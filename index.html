<!DOCTYPE html>
<html>
<head>
    <title>FBHC Progress Pie</title>
</head>
<body>
    <canvas id="main" width="100" height="100"></canvas>
<script>
var canvasEl = document.getElementById('main')
var context = canvasEl.getContext('2d')

var input = {
    x: 50,
    y: 55,
    p: 10
}
context.clearRect(0, 0, 100, 100)

context.moveTo(50, 50)
context.arc(50, 50, 50, 1.5 * Math.PI, 1.5 * Math.PI + input.p / 100 * Math.PI * 2, false)
context.fill()

// inverted Cartesian: x more positive to the right; y more positive to bottom
var color = context.getImageData(input.x, 100 - input.y, 1, 1).data
var blackOrWhite = color[3] > 128 ? "black" : "white"
console.log(blackOrWhite)

</script>
</body>
</html>